{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/bimarsha/ERPSystem/ERPSytem/frontend/src/pages/Salary.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from 'react';\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from '../admin/Dashboard';\nimport Alert from 'react-bootstrap/Alert';\nimport { useFormFields } from \"../libs/hooksLib\"; // import DatePicker from 'react-datepicker';\n\nimport \"./Salary.css\";\nimport { FaWindows } from \"react-icons/fa\";\nconst initUser = {\n  emp: '',\n  amount: '',\n  allowance: '',\n  month: '',\n  received_date: ''\n};\nexport default function AddSalary() {\n  _s();\n\n  const [validated, setValidated] = useState(false);\n  const [fields, handleChange, setFields] = useFormFields(initUser);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n    console.log(\"print form event\", form);\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    setValidated(true);\n\n    try {\n      const token = localStorage.getItem('access');\n      let res = await fetch('http://127.0.0.1:8000/api/salary/', {\n        method: 'POST',\n        body: JSON.stringify(fields),\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      res = await res.json();\n      console.log(res);\n\n      if (res.id) {\n        handleSubmitClick();\n      } else {\n        return null;\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  const [show, setShow] = useState(false);\n\n  function handleAddAnotherClick() {\n    setFields(initUser);\n\n    if (initUser) {\n      setShow(false);\n    }\n  }\n\n  function handleSubmitClick() {\n    console.log(\"in submit click\", validated);\n    setShow(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Store salary data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          noValidate: true,\n          validated: validated,\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            controlId: \"emp\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: 6,\n              children: \"Employee ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                required: true,\n                type: \"text\",\n                placeholder: \"Employee ID\",\n                value: fields.emp,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                children: \"Looks good!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Employee Id required.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            controlId: \"amount\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: 6,\n              children: \"Salary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                  children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                    id: \"inputGroupPrepend\",\n                    children: \"Rs.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  required: true,\n                  type: \"text\",\n                  placeholder: \"Salary\",\n                  value: fields.amount,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                  children: \"Looks good!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                  type: \"invalid\",\n                  children: \"Amount field required.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            controlId: \"allowance\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: 6,\n              children: \"Allowance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                  children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                    id: \"inputGroupPrepend\",\n                    children: \"Rs.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  required: true,\n                  placeholder: \"Allowance\",\n                  \"aria-describedby\": \"inputGroupPrepend\",\n                  value: fields.allowance,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                  type: \"invalid\",\n                  children: \"Allowance field required.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            controlId: \"month\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: 6,\n              children: \"Month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Month\",\n                required: true,\n                value: fields.month,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Month field required.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            controlId: \"received_date\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: 6,\n              children: \"Payment Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                placeholder: \"Payment Date\",\n                required: true,\n                value: fields.received_date,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"payment Date required.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), show ? /*#__PURE__*/_jsxDEV(Alert, {\n            show: show,\n            variant: \"success\",\n            children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n              children: \"Record Saved..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleAddAnotherClick,\n                variant: \"success\",\n                children: \"Add another record!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this) : null, /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-center\",\n                children: !show && /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  children: \"Submit \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddSalary, \"Ppl/yjcWn/TXj21HNKbKlSvNWUs=\", false, function () {\n  return [useFormFields];\n});\n\n_c = AddSalary;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddSalary\");","map":{"version":3,"sources":["/home/bimarsha/ERPSystem/ERPSytem/frontend/src/pages/Salary.js"],"names":["React","useState","useEffect","Container","Col","Row","Form","InputGroup","Button","Navbar","Alert","useFormFields","FaWindows","initUser","emp","amount","allowance","month","received_date","AddSalary","validated","setValidated","fields","handleChange","setFields","handleSubmit","event","preventDefault","form","currentTarget","console","log","checkValidity","stopPropagation","token","localStorage","getItem","res","fetch","method","body","JSON","stringify","headers","json","id","handleSubmitClick","e","show","setShow","handleAddAnotherClick"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport  { useState, useEffect } from 'react';\nimport {Container,Col, Row} from \"react-bootstrap\";\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\nimport Navbar from '../admin/Dashboard';\nimport Alert from 'react-bootstrap/Alert';\nimport { useFormFields } from \"../libs/hooksLib\";\n\n// import DatePicker from 'react-datepicker';\nimport \"./Salary.css\";\nimport { FaWindows } from \"react-icons/fa\";\n\nconst initUser = {\n    emp: '',\n    amount: '',\n    allowance: '',\n    month: '',\n    received_date: '',\n}\n\nexport default function AddSalary() {\n    const [validated, setValidated] = useState(false);\n    const[fields, handleChange, setFields] = useFormFields(initUser);\n\n    async function handleSubmit(event){\n        event.preventDefault();\n        const form = event.currentTarget;\n        console.log(\"print form event\", form)\n        if (form.checkValidity() === false) {\n            event.preventDefault();\n            event.stopPropagation();        \n        }\n        setValidated(true);\n \n        try{\n            const token = localStorage.getItem('access')\n            let res = await fetch('http://127.0.0.1:8000/api/salary/',{\n                method:'POST',\n                body: JSON.stringify(fields),\n                headers:{\n                    'Accept': 'application/json',\n                    'Content-type': 'application/json',\n                    'Authorization': `Bearer ${token}`,\n                }\n            })\n            res = await res.json();\n            console.log(res)\n            if (res.id){\n                handleSubmitClick();\n            }else{\n                return null \n            } \n        }catch(e){\n            console.log(e);\n        } \n           \n    }\n    const [show, setShow] = useState(false);\n\n    function handleAddAnotherClick(){\n        setFields(initUser)\n        if (initUser){\n            setShow(false)\n        }  \n    }\n    function handleSubmitClick(){\n        console.log(\"in submit click\",validated)\n        setShow(true)        \n    }\n    return (\n        <div>\n        <Navbar/>\n        <h2>Store salary data</h2>\n        <Container  fluid=\"sm\">\n        <Col className=\"d-flex justify-content-center\" >        \n        \n        <Form noValidate validated={validated} onSubmit={handleSubmit}>\n            <Form.Group as={Row} controlId=\"emp\">\n                <Form.Label column sm={6}>Employee ID</Form.Label>\n                <Col sm={6}>\n                <Form.Control\n                required\n                type=\"text\"\n                placeholder=\"Employee ID\"\n                value={fields.emp}\n                onChange={handleChange}\n                />\n                <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                <Form.Control.Feedback type=\"invalid\">\n                    Employee Id required.\n                </Form.Control.Feedback>\n                </Col>                \n            </Form.Group>\n\n            <Form.Group as={Row} controlId=\"amount\">\n                <Form.Label column sm={6}>Salary</Form.Label>\n                <Col sm={6}>\n                <InputGroup className=\"mb-3\">\n                    <InputGroup.Prepend>\n                        <InputGroup.Text id=\"inputGroupPrepend\">Rs.</InputGroup.Text>\n                    </InputGroup.Prepend>\n                <Form.Control\n                required\n                type=\"text\"\n                placeholder=\"Salary\"\n                value={fields.amount}\n                onChange={handleChange}\n                />\n                <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n                <Form.Control.Feedback type=\"invalid\">\n                    Amount field required.\n                </Form.Control.Feedback>\n                </InputGroup>\n                </Col>\n            </Form.Group>\n            <Form.Group as={Row} controlId=\"allowance\">\n                <Form.Label column sm={6}>Allowance</Form.Label>\n                <Col sm={6}>\n                <InputGroup className=\"mb-2\">\n                <InputGroup.Prepend>\n                    <InputGroup.Text id=\"inputGroupPrepend\">Rs.</InputGroup.Text>\n                </InputGroup.Prepend>\n                <Form.Control\n                    type=\"text\"\n                    required\n                    placeholder=\"Allowance\"\n                    aria-describedby=\"inputGroupPrepend\"\n                    value={fields.allowance}\n                    onChange={handleChange}\n                />\n                <Form.Control.Feedback type=\"invalid\">\n                    Allowance field required.\n                </Form.Control.Feedback>\n                </InputGroup>\n                </Col>\n            </Form.Group>\n            <Form.Group as={Row} controlId=\"month\">\n                <Form.Label column sm={6}>Month</Form.Label>\n                <Col sm={6}>\n                    <Form.Control type=\"text\" placeholder=\"Month\"\n                    required\n                    value={fields.month} \n                    onChange={handleChange}\n                     />\n                    <Form.Control.Feedback type=\"invalid\">\n                    Month field required.\n                    </Form.Control.Feedback>\n                </Col>        \n            </Form.Group> \n\n            <Form.Group as={Row} controlId=\"received_date\">\n                <Form.Label column sm={6}>Payment Date</Form.Label>\n                <Col sm={6}>\n                    <Form.Control type=\"date\" \n                    placeholder=\"Payment Date\" \n                    required\n                    value={fields.received_date}\n                    onChange={handleChange} />\n                    <Form.Control.Feedback type=\"invalid\">\n                    payment Date required.\n                    </Form.Control.Feedback>\n                </Col>       \n            </Form.Group>\n            {show ? <Alert show={show} variant=\"success\">\n            <Alert.Heading>Record Saved..</Alert.Heading>\n                {/* <p>\n                Salary information of employee added\n                </p> */}\n                {/* <hr /> */}\n                <div className=\"d-flex justify-content-center\">\n                <Button onClick={handleAddAnotherClick} variant=\"success\">\n                    Add another record!\n                </Button>\n                </div>\n            </Alert>\n            : null}\n            <Row>\n            <Col sm={6}>\n            </Col>\n            <Col sm={6}>\n            <div className=\"d-flex justify-content-center\">\n             {!show && <Button type=\"submit\">Submit </Button>    }  \n             </div>\n\n            </Col>\n\n            </Row>\n           \n             \n                  \n        </Form>\n        </Col>\n        </Container>\n        </div>   \n    );\n}\n"]},"metadata":{},"sourceType":"module"}