{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/bimarsha/ERPSystem/ERPSytem/frontend/src/pages/AttendanceFilterDate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Button from \"react-bootstrap/Button\"; // import { useFormFields } from \"../libs/hooksLib\";\n// import { BooleanField, FunctionField } from \"react-admin\"\n// import { Redirect } from 'react-router-dom';\n// import PostAttendanceCO from './PostAttendanceCO';\n// import GuardedRoute from \"../component/guardroute\";\n// import {Route} from \"react-router-dom\";\n\nimport Attendance from './Attendance'; // import From from 'react-bootstrap'\n// import updateAttendance from \"./Attendance\"\n\nexport default function AttendanceFilterDate({\n  updateAttendance\n}) {\n  _s();\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const handleChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  async function handleSubmit(event) {\n    const token = localStorage.getItem('access');\n    event.preventDefault();\n\n    try {\n      let res = await fetch('http://127.0.0.1:8000/api/attendance/?date=' + searchTerm, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        } // body: JSON.stringify(attendance)\n\n      });\n      res = await res.json();\n      console.log(res);\n      updateAttendance(res);\n    } catch (err) {\n      console.log(err);\n    } // setIsLoading(true);\n    // setNewUser(\"test\");\n    // setIsLoading(false);\n\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Filter by Date\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"date\",\n        value: searchTerm,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AttendanceFilterDate, \"cmAwkkZkoh1bx1XJSei2sXI5l0w=\");\n\n_c = AttendanceFilterDate;\n\nvar _c;\n\n$RefreshReg$(_c, \"AttendanceFilterDate\");","map":{"version":3,"sources":["/home/bimarsha/ERPSystem/ERPSytem/frontend/src/pages/AttendanceFilterDate.js"],"names":["React","useState","Button","Attendance","AttendanceFilterDate","updateAttendance","searchTerm","setSearchTerm","handleChange","e","target","value","handleSubmit","event","token","localStorage","getItem","preventDefault","res","fetch","method","headers","json","console","log","err"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,OAAOC,MAAP,MAAmB,wBAAnB,C,CACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,UAAP,MAAuB,cAAvB,C,CACA;AACA;;AAEA,eAAe,SAASC,oBAAT,CAA8B;AAAEC,EAAAA;AAAF,CAA9B,EAAoD;AAAA;;AAG/D,QAAM,CAACC,UAAD,EAAcC,aAAd,IAA+BN,QAAQ,CAAC,EAAD,CAA7C;;AAEA,QAAMO,YAAY,GAAIC,CAAD,IAAO;AAC1BF,IAAAA,aAAa,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACD,GAFD;;AAIA,iBAAeC,YAAf,CAA4BC,KAA5B,EAAmC;AAC/B,UAAMC,KAAK,GAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAb;AACAH,IAAAA,KAAK,CAACI,cAAN;;AACA,QAAG;AACD,UAAIC,GAAG,GAAG,MAAMC,KAAK,CAAC,gDAA8Cb,UAA/C,EAA2D;AAC5Ec,QAAAA,MAAM,EAAE,KADoE;AAE5EC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB,kBAFT;AAGP,2BAAkB,UAASP,KAAM;AAH1B,SAFmE,CAO5E;;AAP4E,OAA3D,CAArB;AAUEI,MAAAA,GAAG,GAAG,MAAMA,GAAG,CAACI,IAAJ,EAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AACAb,MAAAA,gBAAgB,CAACa,GAAD,CAAhB;AAGH,KAhBD,CAgBC,OAAMO,GAAN,EAAU;AACTF,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,KArB8B,CAwB/B;AAEA;AAEA;;AACD;;AAKH,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAGI;AAAM,MAAA,QAAQ,EAAEb,YAAhB;AAAA,8BAEA;AACI,QAAA,IAAI,EAAC,MADT;AACe,QAAA,IAAI,EAAC,MADpB;AAEI,QAAA,KAAK,EAAEN,UAFX;AAGI,QAAA,QAAQ,EAAEE;AAHd;AAAA;AAAA;AAAA;AAAA,cAFA,eAMA,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAsBH;;GAjEuBJ,oB;;KAAAA,oB","sourcesContent":["import React,{useState} from 'react';\nimport Button from \"react-bootstrap/Button\";\n// import { useFormFields } from \"../libs/hooksLib\";\n// import { BooleanField, FunctionField } from \"react-admin\"\n// import { Redirect } from 'react-router-dom';\n// import PostAttendanceCO from './PostAttendanceCO';\n// import GuardedRoute from \"../component/guardroute\";\n// import {Route} from \"react-router-dom\";\nimport Attendance from './Attendance';\n// import From from 'react-bootstrap'\n// import updateAttendance from \"./Attendance\"\n\nexport default function AttendanceFilterDate({ updateAttendance }) {\n    \n    \n    const [searchTerm , setSearchTerm] = useState(\"\")\n    \n    const handleChange = (e) => {\n      setSearchTerm(e.target.value)\n    }\n\n    async function handleSubmit(event) {\n        const token= localStorage.getItem('access')\n        event.preventDefault();\n        try{\n          let res = await fetch('http://127.0.0.1:8000/api/attendance/?date='+searchTerm, {\n              method: 'GET',\n              headers: {\n                'Accept': 'application/json',\n                'Content-type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n              },\n              // body: JSON.stringify(attendance)\n        \n            })\n            res = await res.json();\n            console.log(res);\n            updateAttendance(res)\n            \n            \n        }catch(err){\n          console.log(err)\n        }\n    \n    \n        // setIsLoading(true);\n    \n        // setNewUser(\"test\");\n    \n        // setIsLoading(false);\n      }\n      \n      \n\n\n    return (\n        <div>\n            <h1>Filter by Date</h1>\n        \n            <form onSubmit={handleSubmit}> \n                \n            <input\n                type=\"date\"name=\"date\"\n                value={searchTerm}\n                onChange={handleChange} />\n            <Button type=\"submit\">\n              Submit\n            </Button>\n                \n           \n            \n              \n            </form>\n            \n            \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}