{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/bimarsha/ERPSystem/ERPSytem/frontend/src/pages/SalaryReportList.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Container, Row, Col, ListGroup } from \"react-bootstrap\";\nimport Navbar from \"../admin/Dashboard\";\nimport Form from \"react-bootstrap/Form\";\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport SalaryUpdate from './SalaryUpdate';\nimport { Link } from 'react-router-dom';\n\nconst axios = require('axios');\n\nexport default function SalaryReport() {\n  _s();\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([{\n    id: \"\",\n    emp: \"\",\n    amount: \"\",\n    allowance: \"\",\n    year: \"\",\n    month: \"\",\n    received_date: \"\",\n    email: \"\",\n    first_name: \"\",\n    last_name: \"\"\n  }]);\n\n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  useEffect(async () => {\n    try {\n      const access_token = localStorage.getItem('access');\n      console.log(\"Access token in Salary Report\", access_token);\n      let res = await fetch(`http://127.0.0.1:8000/api/salary/?search=${searchTerm}`, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${access_token}`\n        }\n      });\n      res = await res.json();\n      setSearchResults(res);\n    } catch (error) {\n      alert(\"NO data available\", error);\n    }\n  }, []);\n\n  const removeData = async id => {\n    if (window.confirm(\"Delete this record? Are you sure?\")) {\n      const access_token = localStorage.getItem('access');\n      let res = fetch(`http://127.0.0.1:8000/api/salary/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${access_token}`\n        } // body: JSON.stringify(fields)\n\n      }).then(res => {\n        console.log(res);\n        const del = searchResults.filter(sal => id !== sal.id);\n        setSearchResults(del);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        md: 10,\n        className: \"justify-content-md-center\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n            className: \"mb-2 mr-sm-2\",\n            children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n              children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                id: \"search-add\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              size: \"xl\",\n              type: \"text\",\n              placeholder: \"By Name, ...\",\n              value: searchTerm,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-muted\",\n            children: \"Your Results...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        size: \"sm\",\n        responsive: \"sm\",\n        borderless: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"S.No.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Emp_Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Salary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Allowance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Payment Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Options\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), searchResults && searchResults.filter(val => {\n          if (searchTerm == \"\") {\n            return val;\n          } else if (val.email.toString().toLowerCase().includes(searchTerm.toLowerCase()) || val.month.toString().toLowerCase().includes(searchTerm.toLowerCase()) || val.first_name.toString().toLowerCase().includes(searchTerm.toLowerCase()) || val.last_name.toString().toLowerCase().includes(searchTerm.toLowerCase()) || val.id.toString().toLowerCase().includes(searchTerm.toLowerCase()) || val.year.toString().toLowerCase().includes(searchTerm.toLowerCase())) {\n            return val;\n          }\n        }).map((sal, key) => {\n          return /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: sal.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: sal.emp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [sal.first_name, \"\\xA0\\xA0\", sal.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: sal.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: sal.allowance\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: sal.year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: sal.month\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: sal.received_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"options\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  block: true,\n                  size: \"sm\",\n                  type: \"submit\",\n                  variant: \"danger\",\n                  onClick: () => removeData(sal.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  block: true,\n                  size: \"sm\",\n                  type: \"submit\",\n                  variant: \"info\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SalaryReport, \"KXaGDbsS2Y86W6nqZgFixuneghE=\");\n\n_c = SalaryReport;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalaryReport\");","map":{"version":3,"sources":["/home/bimarsha/ERPSystem/ERPSytem/frontend/src/pages/SalaryReportList.js"],"names":["React","useState","useEffect","Container","Row","Col","ListGroup","Navbar","Form","Table","Button","InputGroup","SalaryUpdate","Link","axios","require","SalaryReport","searchTerm","setSearchTerm","searchResults","setSearchResults","id","emp","amount","allowance","year","month","received_date","email","first_name","last_name","handleChange","event","target","value","access_token","localStorage","getItem","console","log","res","fetch","method","headers","json","error","alert","removeData","window","confirm","then","del","filter","sal","val","toString","toLowerCase","includes","map","key"],"mappings":"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","sourcesContent":["import React from 'react'\nimport  { useState, useEffect } from 'react';\nimport {Container,Row,Col,ListGroup} from \"react-bootstrap\";\nimport Navbar from \"../admin/Dashboard\";\nimport Form from \"react-bootstrap/Form\";\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport SalaryUpdate from './SalaryUpdate';\nimport { Link } from 'react-router-dom';\nconst axios = require('axios');\n\nexport default function SalaryReport() {\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [searchResults, setSearchResults] = useState([{\n        id:\"\" ,\n        emp:\"\",\n        amount:\"\" ,\n        allowance:\"\" ,\n        year:\"\",\n        month:\"\" ,\n        received_date:\"\" ,\n        email:\"\",\n        first_name:\"\",\n        last_name:\"\",\n    }]);\n\n    const handleChange = event => {\n        setSearchTerm(event.target.value);\n      };\n\n    useEffect(async() => {\n        try{\n            const access_token= localStorage.getItem('access')\n            console.log(\"Access token in Salary Report\",access_token)\n            let res = await fetch(`http://127.0.0.1:8000/api/salary/?search=${searchTerm}`, {\n            method: 'GET',\n            headers: {\n            'Accept': 'application/json',\n            'Content-type': 'application/json',\n            'Authorization': `Bearer ${access_token}`,\n            }, })\n            res = await res.json();\n            setSearchResults(res);\n        }catch (error){\n            alert(\"NO data available\", error)\n        }\n        \n    },[])\n\n    const removeData = async (id) =>{\n        if( window.confirm(\"Delete this record? Are you sure?\")){\n            const access_token= localStorage.getItem('access')\n            let res = fetch(`http://127.0.0.1:8000/api/salary/${id}`,{\n                method: 'DELETE',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-type': 'application/json',\n                    'Authorization': `Bearer ${access_token}`,\n                    },\n                // body: JSON.stringify(fields)\n            }).then(res => {\n                console.log(res)\n                const del = searchResults.filter(sal => id !== sal.id)\n                setSearchResults(del)\n            })\n        }   \n    }\n        \n    return (\n        <div>\n            <Navbar/>\n            <Form>\n                <Row  md={10} className=\"justify-content-md-center\">\n                    <Col sm={5}>\n                    <InputGroup className=\"mb-2 mr-sm-2\">\n                    <InputGroup.Prepend>\n                        <InputGroup.Text id=\"search-add\">Search</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control size=\"xl\" type=\"text\"\n                        placeholder=\"By Name, ...\" \n                        value={searchTerm}\n                        onChange={handleChange}\n                    />\n                     </InputGroup>\n                        <Form.Text className=\"text-muted\">\n                        Your Results...\n                        </Form.Text>                      \n                    </Col>\n                </Row>  \n            </Form>\n                   \n            <Container fluid=\"sm\"> \n                <Table size='sm' responsive='sm' borderless hover>\n                    <thead>\n                        <tr>\n                        <th>S.No.</th>\n                        <th>Emp_Id</th>\n                        <th>Full Name</th>\n                        {/* <th>Email</th> */}\n                        <th>Salary</th>\n                        <th>Allowance</th>\n                        <th>Year</th>\n                        <th>Month</th>\n                        <th>Payment Date</th>\n                        <th>Options</th>\n                        </tr>\n                    </thead>          \n                    \n                {searchResults && searchResults.filter((val) =>{\n                    if (searchTerm==\"\"){\n                        return val\n                    }else if ((val.email.toString().toLowerCase().includes(searchTerm.toLowerCase())) ||\n                    (val.month.toString().toLowerCase().includes(searchTerm.toLowerCase())) ||\n                    (val.first_name.toString().toLowerCase().includes(searchTerm.toLowerCase())) ||\n                    (val.last_name.toString().toLowerCase().includes(searchTerm.toLowerCase())) ||\n                    (val.id.toString().toLowerCase().includes(searchTerm.toLowerCase())) ||\n                    (val.year.toString().toLowerCase().includes(searchTerm.toLowerCase()))\n                    ) {\n                        return val\n                    }\n                }).map((sal,key) =>{\n                    return (             \n                        <tbody key={key}>\n                            <tr>\n                            <td>{sal.id}</td>\n                            <td>{sal.emp}</td>\n                            <td>{sal.first_name}&nbsp;&nbsp;{sal.last_name}</td>\n                            {/* <td>{sal.email}</td> */}\n                            <td>{sal.amount}</td>\n                            <td>{sal.allowance}</td>\n                            <td>{sal.year}</td>\n                            <td>{sal.month}</td>\n                            <td>{sal.received_date}</td> \n                            <td className='options'>\n                                <Button block size=\"sm\" type=\"submit\" variant=\"danger\"\n                                onClick={() => removeData(sal.id)}>Delete</Button>\n \n                                <Button block size=\"sm\" type=\"submit\" variant=\"info\">\n                                Edit</Button> \n                        </td>                          \n                            </tr>                     \n                        </tbody>                \n                )})}\n                </Table>\n            </Container>  \n        </div>\n    )\n}\n            \n                                      \n                          \n                       \n                  \n                                     \n                          \n                    \n          \n                   \n"]},"metadata":{},"sourceType":"module"}